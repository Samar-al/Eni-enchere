<form
        xmlns:th="http://www.thymeleaf.org"
        th:fragment="frag-form-bid-Creation(action)"
        th:action="${action}"
        th:object="${bid}"
        th:method="POST"
        class="d-flex flex-column gap-4">
    <div th:replace="~{fragments/fragment-errors :: frag-errors}"></div>
    <p class="error" th:each="error : ${#fields.errors('global')}" th:text="#{${error}}"></p>
    <div th:if="${loginError}" class="alert alert-danger">
        <span th:text="#{error.register}"></span>
    </div>
    <div class="flex-content p-2">
        <div class="flex-content p-2" style="margin: 0 auto; width: 80%">
            <div>
                <img alt="" th:src="@{/images/add-item_25362.png}" width="200rem">
            </div>
            <label for="itemName" class="form-label mt-4"  th:text="#{frag-form-bid.itemName}"></label>
            <input type="text" class="form-control" name="itemName" id="itemName" th:field="*{soldItem.itemName}" required>
            <br>
            <div th:replace="~{fragments/fragment-error :: frag-error('soldItem.itemName')}"></div>

             <label for="description" class="form-label mt-4" th:text="#{frag-form-bid.description}"></label>
                <input type="text" class="form-control" name="description" id="description" th:field="*{soldItem.description}">
                <br>
                <div th:replace="~{fragments/fragment-error :: frag-error('soldItem.description')}"></div>
               <label class="form-label mt-4" for="category" th:text="#{frag-form-bid.category}"></label>
                <select class="form-select" name="category" id="category" th:field="*{soldItem.category.categoryNb}" >
                    <option
                            th:each="category :${categorySession}"
                            th:value="${category.categoryNb}"
                            th:text="${category.wording}"

                    ></option>
                </select>
             <div th:replace="~{fragments/fragment-error :: frag-error('soldItem.category')}"></div>

                <label for="initialPrice" class="form-label mt-4" th:text="#{frag-form-bid.amount}"></label>
             <input type="number"  pattern="^\d+(.\d{1,2})?â‚¬" class="form-control" name="initialPrice" id="initialPrice" th:field="*{soldItem.initialPrice}">
             <br>
             <div th:replace="~{fragments/fragment-error :: frag-error('soldItem.initialPrice')}"></div>

             <label for="dateStartBid" class="form-label mt-4" th:text="#{frag-form-bid.startbid}"></label>
             <input type="date" class="form-control" name="dateStartBid" id="dateStartBid" th:field="*{soldItem.dateStartBid}" pattern="\d{4}-\d{2}-\d{2}" placeholder="yyyy-MM-dd">
             <br>
             <div th:replace="~{fragments/fragment-error :: frag-error('soldItem.dateStartBid')}"></div>

             <label for="dateEndBid" class="form-label mt-4" th:text="#{frag-form-bid.endBId}"></label>
             <input type="date" class="form-control" name="dateEndBid" id="dateEndBid" th:field="*{soldItem.dateEndBid}" required pattern="\d{4}-\d{2}-\d{2}" placeholder="yyyy-MM-dd">
             <br>
             <div th:replace="~{fragments/fragment-error :: frag-error('soldItem.dateEndBid')}"></div>
         </div>
         <div class="flex-content p-2" style="margin: 0 auto; width: 80%">
             <fieldset>
                 <legend th:text="#{frag-form-bid.legend.title}"></legend>
                 <label for="street" class="form-label mt-4" th:text="#{frag-form-bid.street}"></label>
                 <input type="text" class="form-control" name="street" id="street" th:field="*{soldItem.collectParcel.street}">
                 <br>
                 <div th:replace="~{fragments/fragment-error :: frag-error('soldItem.collectParcel.street')}"></div>

                 <label for="zipCode" class="form-label mt-4" th:text="#{frag-form-bid.zipcode}"></label>
                 <input type="text" class="form-control" name="zipCode" id="zipCode" th:field="*{soldItem.collectParcel.zipCode}">
                 <br>
                 <div th:replace="~{fragments/fragment-error :: frag-error('soldItem.collectParcel.zipCode')}"></div>

                 <label for="city" class="form-label mt-4" th:text="#{frag-form-bid.city}"></label>
                 <input type="text" class="form-control" name="city" id="city" th:field="*{soldItem.collectParcel.city}">
                 <br>
                 <div th:replace="~{fragments/fragment-error :: frag-error('soldItem.collectParcel.street')}"></div>
             </fieldset>
         </div>
    </div>
    <div class="d-flex justify-content-center gap-4">
        <button type="submit" class="btn btn-primary" th:text="#{frag-form-bid.create}"></button>
        <a th:href="@{/encheres/}">
            <button type="button" class="btn btn-primary" th:text="#{frag-form-bid.cancel}"></button>
        </a>
    </div>

</form>